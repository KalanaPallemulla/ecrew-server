let express,addSalon,getSalon,addLocation,getLocations,getSingleSalon,removeSalon,updateSalon,active,deactivate,getSalonBySearch,formidable,Salon;_502‍.w("express",[["default",["express"],function(v){express=v}]]);_502‍.w("../controllers/Salon",[["addSalon",["addSalon"],function(v){addSalon=v}],["getSalon",["getSalon"],function(v){getSalon=v}],["addLocation",["addLocation"],function(v){addLocation=v}],["getLocations",["getLocations"],function(v){getLocations=v}],["getSingleSalon",["getSingleSalon"],function(v){getSingleSalon=v}],["removeSalon",["removeSalon"],function(v){removeSalon=v}],["updateSalon",["updateSalon"],function(v){updateSalon=v}],["active",["active"],function(v){active=v}],["deactivate",["deactivate"],function(v){deactivate=v}],["getSalonBySearch",["getSalonBySearch"],function(v){getSalonBySearch=v}]]);_502‍.w("express-formidable",[["default",["formidable"],function(v){formidable=v}]]);_502‍.w("../models/Salon",[["default",["Salon"],function(v){Salon=v}]]);















const router = express.Router();

router.post("/salon", formidable(), addSalon);
router.get("/salon", getSalon);

router.get("/salon/image/:id", async (req, res) => {
  try {
    let salon = await Salon.findById(req.params.id).exec();
    // console.log(salon);
    if (salon && salon.images && salon.images.data !== null) {
      res.set("Content-Type", salon.images.contentType);
      return res.send(salon.images.data);
    }
    // res.send(salon.images.data);
  } catch (error) {
    _502‍.g.console.log(error);
  }
});

router.post("/salon/locations", addLocation);
router.get("/salon/locations", getLocations);
router.get("/salonSearch", getSalonBySearch);

router.get("/salon/:id", getSingleSalon);
router.delete("/salon/:id", removeSalon);
router.put("/salon/:id", formidable(), updateSalon);
router.put("/salon/:id", formidable(), updateSalon);
router.put("/salon/active/:id", active);

router.put("/salon/deactivate/:id", deactivate);

module.exports = router;
